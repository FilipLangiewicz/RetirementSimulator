define("plugins/responsive-table",["require","adapter/dom","common/basePlugin","adapter/jsClass","adapter/enumerable"],function(e){var t=e("adapter/dom"),n=e("common/basePlugin"),r=e("adapter/jsClass"),i=e("adapter/enumerable"),s=r.Class(n,{constructor:function(e,n,r,o){var u={tableSelector:".zus-custom-table, .zus-cms table",dataName:"data-title"};this.context=t.find("#"+e),this.settings=i.defaults(o,u),s.$super.call(this,e,n,r,o),this.init()},init:function(){this.tables=t.find(this.settings.tableSelector,this.context),this.onInit()},onInit:function(){i.each(this.tables,function(e,t){this.dTitles=[],this.expandSpans(e),this.getTh(e),this.dTitles.length>0&&this.setTd(e)},this),console.log("@ResponsiveTables")},expandSpans:function(e){var n=t.find("[colspan]",e),r=0,s="";n.length&&i.each(n,function(e,n){var i=t.getAttribute(e,"colspan"),s=t.getAttribute(e,"headers");t.removeAttribute(e,"colspan"),t.removeAttribute(e,"headers");var o=t.clone(e);t.addClass(o[0],"js-rwdtable-clone");for(r=0;r<i-1;r++)t.append(e,t.clone(o),"after");t.setAttribute(e,"data-colspan",i),t.setAttribute(e,"data-headers",s)});var o=t.find("[rowspan]",e);o.length&&i.each(o,function(e,n){var s=t.getAttribute(e,"rowspan"),o=t.getAttribute(e,"headers"),u=t.parent(e,"tr"),a=0;i.each(t.children(u),function(t,n){e===t&&(a=n)}),t.removeAttribute(e,"rowspan"),t.removeAttribute(e,"headers");var f=t.clone(e);t.addClass(f[0],"js-rwdtable-clone");for(r=0;r<s-1;r++){var l=t.find("td, th",t.eq(t.nextAll(u),r)),c=l[a-1];t.append(c,t.clone(f),"after")}t.setAttribute(e,"data-rowspan",s),t.setAttribute(e,"data-headers",o)})},getTh:function(e){var n=t.find("thead",e),r=n.length>0?t.find("tr",n):t.find(" > tr:first-child",e),s=t.find("th",r);i.each(s,function(e,n){this.dTitles[n]?this.addValue(t.getHtml(e,!0),this.dTitles[n]):this.dTitles[n]=t.getHtml(e,!0)},this)},setTd:function(e){var n=t.find("tbody",e),r=n.length>0?t.find("tr",n):t.find("tr:not(:first-child)",e);for(var i=1;i<=this.dTitles.length;i++)t.setAttribute(t.find(":nth-child("+i+")",r),this.settings.dataName,this.dTitles[i-1])},addValue:function(e,t){t!=""&&(t+=" "),t+=e},stop:function(){i.each(this.tables,function(e,n){i.each(t.find("[data-colspan]"),function(e,n){t.setAttribute(e,"colspan",t.getData(e,"colspan")),t.setAttribute(e,"headers",t.getData(e,"headers"))}),i.each(t.find("[data-rowspan]"),function(e,n){t.setAttribute(e,"rowspan",t.getData(e,"rowspan")),t.setAttribute(e,"headers",t.getData(e,"headers"))}),t.remove(t.find(".js-rwdtable-clone",e))})}});return s});